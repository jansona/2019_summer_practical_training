<template>
	<view>
		<form method="post">
			<view class="cu-form-group">
				<view class="title">å§“å</view>
				<input placeholder="è¯·è¾“å…¥å¤±è¸ªäººå§“å" v-model="findChildForm.name"></input>
			</view>
			<view class="cu-form-group">
				<view class="title" style="width:100upx;">æ€§åˆ«</view>
				<radio-group class="radio-group" @change="radioChange">
					<label class="radio" v-for="(item,index) in items" :key=index>
						<radio :value="item.value" :checked="item.checked" color="#FFCC33" style="transform:scale(0.7)"/>{{item.value}}
					</label>
				</radio-group>
			</view>
			<view class="cu-form-group" style="margin-top: 30upx;">
				<view class="title">å‡ºç”Ÿæ—¥æœŸ</view>
				<picker mode="date" :value="findChildForm.birthday" start="1910-09-01" end="2020-09-01" @change="BirthDateChange">
					<view class="picker">
						{{findChildForm.birthday}}
					</view>
				</picker>
			</view>
			<view class="cu-form-group">
				<view class="title">ç±è´¯</view>
				<input placeholder="è¯·è¾“å…¥å¤±è¸ªäººç±è´¯" v-model="findChildForm.nativePlace"></input>
			</view>
			<view class="cu-form-group">
				<view class="title">èº«é«˜</view>
				<input placeholder="è¯·è¾“å…¥å¤±è¸ªæ—¶èº«é«˜" v-model="findChildForm.height"></input>
			</view>
			<view class="cu-form-group" style="margin-top: 30upx;">
				<view class="title">å¤±è¸ªæ—¥æœŸ</view>
				<picker mode="date" :value="findChildForm.lostDate" start="1910-09-01" end="2020-09-01" @change="LostDateChange">
					<view class="picker">
						{{findChildForm.lostDate}}
					</view>
				</picker>
			</view>
			<view class="cu-form-group">
				<view class="title">å¤±è¸ªæ—¶åœ°å€</view>
				<input placeholder="è¯·è¾“å…¥å¤±è¸ªäººå¤±è¸ªæ—¶çš„ä½ç½®" v-model="findChildForm.place"></input>
			</view>
			<view class="cu-form-group align-start">
				<view class="title">ç‰¹å¾æè¿°</view>
				<textarea maxlength="-1" :disabled="modalName!=null" v-model="findChildForm.babyDescription" placeholder="è¯·è¾“å…¥å¤±è¸ªäººç‰¹å¾æè¿°"></textarea>
			</view>
			<view class="cu-form-group align-start">
				<view class="title">å¤±è¸ªç»è¿‡</view>
				<textarea maxlength="-1" :disabled="modalName!=null" v-model="findChildForm.missDescription" placeholder="è¯·è¾“å…¥å…·ä½“çš„å¤±è¸ªç»è¿‡"></textarea>
			</view>
			<view class="cu-form-group align-start">
				<view class="title">å…¶ä»–ä¿¡æ¯</view>
				<textarea maxlength="-1" :disabled="modalName!=null" v-model="findChildForm.otherDescription" placeholder="è¯·è¾“å…¥å…¶ä»–çš„ä¿¡æ¯"></textarea>
			</view>
			<view class="cu-form-group align-start">
				<view class="title">å…¶ä»–è¯´æ˜</view>
<<<<<<< HEAD
				<textarea maxlength="-1" :disabled="modalName!=null" v-model="findChildForm.otherExplain" placeholder="è¯·è¾“å…¥å…¶ä»–çš„è¯´æ˜"></textarea>
=======
				<textarea maxlength="-1" :disabled="modalName!=null" @input="otherDescriptionInput" placeholder="è¯·è¾“å…¥å…¶ä»–çš„è¯´æ˜" v-model="otherDescription"></textarea>
>>>>>>> 94031a32fcdf7852c6721fa7b92c89fdd64f64c0
			</view>
			<view class="uni-title" style="padding-left: 35upx;color: #888888;">è”ç³»äººä¿¡æ¯</view>
			<view class="cu-form-group">
				<view class="title">å§“å</view>
				<input placeholder="è¯·è¾“å…¥è”ç³»äººå§“å" v-model="findChildForm.contactName"></input>
			</view>
			<view class="cu-form-group">
				<view class="title">ä¸å¤±è¸ªäººå…³ç³»</view>
				<input placeholder="è¯·è¾“å…¥è”ç³»äººä¸å¤±è¸ªäººçš„å…³ç³»" v-model="findChildForm.contactRel"></input>
			</view>
			<!-- <view class="cu-form-group">
				<view class="title">å¡«è¡¨äººä¸å¤±è¸ªäººå…³ç³»</view>
				<input placeholder="è¯·è¾“å…¥å¡«è¡¨äººä¸å¤±è¸ªäººçš„å…³ç³»" v-model="findChildForm.writerRelation"></input>
			</view> -->
			<view class="cu-form-group" style="margin-top: 30upx;">
				<view class="title">åœ°å€</view>
				<input placeholder="è¯·è¾“å…¥è¯¦ç»†åœ°å€" v-model="findChildForm.contactAddress"></input>
			</view>
			<view class="cu-form-group">
				<view class="title">é‚®ç®±</view>
				<input placeholder="è¯·è¾“å…¥é‚®ç®±" v-model="findChildForm.contactEmail"></input>
			</view>
			<view class="cu-form-group">
				<view class="title">æ‰‹æœºå·ç </view>
				<input placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç " type="number" v-model="findChildForm.contactPhone"></input>
				<view class="cu-capsule radius">
					<view class='cu-tag bg-blue '>
						+86
					</view>
					<view class="cu-tag line-blue">
						ä¸­å›½å¤§é™†
					</view>
				</view>
			</view>
			<view class="cu-form-group">
				<view class="title">å…¶ä»–è”ç³»æ–¹å¼</view>
				<input placeholder="è¯·è¾“å…¥å…¶ä»–è”ç³»æ–¹å¼" v-model="findChildForm.otherContactMethod"></input>
			</view>
			<view class="cu-bar bg-white margin-top">
				<view class="action">
					å›¾ç‰‡ä¸Šä¼ 
				</view>
				<view class="action">
					{{findChildForm.imgList.length}}/4
				</view>
			</view>
			<view class="cu-form-group">
				<view class="grid col-4 grid-square flex-sub">
					<view class="bg-img" v-for="(item,index) in findChildForm.imgList" :key="index" @tap="ViewImage" :data-url="findChildForm.imgList[index]">
					 <image :src="findChildForm.imgList[index]" mode="aspectFill"></image>
						<view class="cu-tag bg-red" @tap.stop="DelImg" :data-index="index">
							<text class='cuIcon-close'></text>
						</view>
					</view>
					<view class="solids" @tap="ChooseImage" v-if="findChildForm.imgList.length<4">
						<text class='cuIcon-cameraadd'></text>
					</view>
				</view>
			</view>
			<view class="cu-form-group" style="margin-top: 30upx;">
				<button class="cu-btn bg-blue margin-tb-sm lg" style="width:300upx;margin: 0 auto;" @click="submit">æäº¤</button>
			</view>
		</form>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				findChildForm: {
					id:'',
					name: '',
					sex:'',
					birthday:'2018-12-25',
					nativePlace:'', //ç±è´¯
					height:'',
					date:'2019-6-25', //å¤±è¸ªæ—¶é—´
					place:'',
					babyDescription:'', //ç‰¹å¾æè¿°
					missDescription:'', //å¤±è¸ªç»è¿‡
					otherExplain:'', //å…¶ä»–è¯´æ˜
					otherDescription:'', //å…¶ä»–ä¿¡æ¯æè¿°
					//è”ç³»äººä¿¡æ¯ğŸ‘‡
					contactName:'', //è”ç³»äººå§“å
					contactRel:'', //è”ç³»äººä¸å¤±è¸ªäººå…³ç³»
					//writerRelation:'',
					contactAddress:'',
					contactEmail:'',
					contactPhone:'',
					otherContactMethod:'', 
					imgList: []
				},
				modalName:null,
				items:[{name:'man',value:'ç”·'},{name:'woman',value:'å¥³'}]
			}
		},
		onLoad() {

		},
		methods: {
			radioChange: function(e) {
				this.findChildForm.sex=e.detail.value;
			},
			BirthDateChange(e) {
				this.findChildForm.birthday = e.detail.value
			},
			LostDateChange(e) {
<<<<<<< HEAD
				this.findChildForm.date = e.detail.value
=======
				this.lostDate = e.detail.value
			},
			feaInput(e) {
				this.feature = e.detail.value
			},
			lostInput(e) {
				this.lostProcess = e.detail.value
			},
			otherInfoInput(e){
				this.otherInfo = e.detail.value
			},
			otherDescriptionInput(e){
				// this.otherDescription = e.detail.value
				console.log(this.otherDescription)
>>>>>>> 94031a32fcdf7852c6721fa7b92c89fdd64f64c0
			},
			ChooseImage() {
				uni.chooseImage({
					count: 4, //é»˜è®¤9
					sizeType: ['original', 'compressed'], //å¯ä»¥æŒ‡å®šæ˜¯åŸå›¾è¿˜æ˜¯å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰
					sourceType: ['album'], //ä»ç›¸å†Œé€‰æ‹©
					success: (res) => {
						if (this.findChildForm.imgList.length != 0) {
							this.findChildForm.imgList = this.findChildForm.imgList.concat(res.tempFilePaths)
						} else {
							this.findChildForm.imgList = res.tempFilePaths
						}
					}
				});
			},
			ViewImage(e) {
				uni.previewImage({
					urls: this.findChildForm.imgList,
					current: e.currentTarget.dataset.url
				});
			},
			DelImg(e) {
				uni.showModal({
					title: 'å¯»å­è€…',
					content: 'ç¡®å®šè¦åˆ é™¤è¿™å¼ ç…§ç‰‡å—ï¼Ÿ',
					cancelText: 'å†çœ‹çœ‹',
					confirmText: 'å†è§',
					success: res => {
						if (res.confirm) {
							this.findChildForm.imgList.splice(e.currentTarget.dataset.index, 1)
						}
					}
				})
			},
			submit(e){
<<<<<<< HEAD
				
=======
				let params = {};
                console.log(this.otherDescription)
>>>>>>> 94031a32fcdf7852c6721fa7b92c89fdd64f64c0
			}
		}
	}
</script>

<style>
	.content {
		text-align: center;
		height: 400upx;
		margin-top: 200upx;
	}
</style>
